<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Cosgame Citadels</title>
<link rel="stylesheet" type="text/css" href="/view/css/bootstrap.css">
<link rel="stylesheet" type="text/css" href="/view/css/mainTheme.css">
<link rel="stylesheet" type="text/css" href="/view/css/citadelsTheme.css">
<link rel="stylesheet" type="text/css" href="/view/css/citadelsOther.css">
<link rel="stylesheet" type="text/css" href="/view/css/citadelsEndGame.css">
</head>
<script src="/js/lib/angular.js"></script>
<script src="/js/lib/jquery.js"></script>
<script src="/js/lib/bootstrap.js"></script>
<script src="/js/app/citadelsEndGameController.js"></script>
<body ng-app="citadelsEndGameApp" ng-controller="citadelsEndGameCtrl">
	<div class="winnerInfo">
		<table style="text-align:center; color:white">
			<tr>
				<td colspan="7"><h2>游戏结束</h2></td>
			</tr>
			<tr>
				<td colspan="7"><h3>获胜者</h3></td>
			</tr>
			<tr>
				<td colspan="7"><h4 ng-repeat="w in winner">{{w}}</h4></td>
			</tr>
			<tr>
				<td colspan="7">
					<img src="/image/Citadels/winner.png" ng-show="showCup" class="cup">
					<img src="/image/Citadels/loser.jpg" ng-show="showCup == false" class="cup">
				</td>
			</tr>
			<tr style="border-bottom: 1pt solid black">
				<td>排名</td>
				<td>玩家</td>
				<td>分数</td>
				<td>净分</td>
				<td>￥</td>	
				<td style="width:451px">建筑</td>
				<td style="width:150px">特殊手牌</td>
				
			</tr>
			<tr ng-repeat="pn in playerNames track by $index" ng-style="playerStyle[$index]" ng-init="playerIndex = $index">
				<td>{{rankings[playerIndex]}}</td>
				<td>{{pn}}</td>
				<td>{{scores[playerIndex]}}</td>
				<td>{{netScores[playerIndex]}}</td>
				<td>{{coins[$index]}}</td>
				<td>
					<div ng-repeat="b in built[playerIndex] track by $index" class="built" ng-style="builtStyle[playerIndex][$index]">
						<div class="qsmark">
							<img src="/image/Citadels/qsmark.png" height="18" width="18" ng-click="showBuilt(playerIndex, $index);$event.stopPropagation();"/>
						</div>
						<div class="beautifyCheck" ng-show="chooseBuilts[playerIndex][$index] == 'y'">
							<img src="/image/Citadels/checked.png" height="18" width="18"/>
						</div>
						<div class="beautify" style="top: 5px"
							ng-show="beautifyLevel[playerIndex][$index] == '1' || beautifyLevel[playerIndex][$index] == '2' || beautifyLevel[playerIndex][$index] == '3'">
							<img src="/image/Citadels/beautify.png" height="18" width="18" />
						</div>
						<div class="beautify" style="top: 25px"
							ng-show="beautifyLevel[playerIndex][$index] == '2' || beautifyLevel[playerIndex][$index] == '3'">
							<img src="/image/Citadels/beautify.png" height="18" width="18" />
						</div>
						<div class="beautify" style="top: 45px"
							ng-show="beautifyLevel[playerIndex][$index] == '3'">
							<img src="/image/Citadels/beautify.png" height="18" width="18" />
						</div>
					</div>
				</td>
				<td>
					<div ng-repeat="b in specialHands[playerIndex] track by $index" class="built" ng-style="specialHandsStyle[playerIndex][$index]">
						<div class="qsmark">
							<img src="/image/Citadels/qsmark.png" height="18" width="18" ng-click="showSpecialHand(playerIndex, $index);$event.stopPropagation();"/>
						</div>
					</div>
				</td>
				
			</tr>
			<tr>
				<td colspan="7">
					<button ng-click="goto('citadels')" ng-show="isLord == 'n'">退出</button>
					<button ng-click="dismiss()" ng-show="isLord == 'y'">解散并退出</button>
				</td>
			</tr>
			
		</table>
	</div>
	
	<div ng-show="showBigImage" ng-style="bigImageDivStyle" ng-click="unshowBigImage()"  style="clear:both">
		<div ng-style="bigImageStyle">
			
		</div>
	</div>
	
</body>
</html>