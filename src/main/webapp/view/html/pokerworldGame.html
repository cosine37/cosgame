<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Cosgame Pokerworld</title>
<link rel="stylesheet" type="text/css" href="/view/css/bootstrap.css">
<link rel="stylesheet" type="text/css" href="/view/css/mainTheme.css">
<link rel="stylesheet" type="text/css" href="/view/css/pokerworldTheme.css">
<link rel="stylesheet" type="text/css" href="/view/css/pokerworldOther.css">
</head>
<script src="/js/lib/angular.js"></script>
<script src="/js/lib/jquery.js"></script>
<script src="/js/lib/bootstrap.js"></script>
<script src="/js/lib/angular-websocket.js"></script>
<script src="/js/app/pokerworldGameController.js"></script>
<body ng-app="pokerworldGameApp" ng-controller="pokerworldGameCtrl">
	<button ng-click="goto('pokerworld')">back</button>
	<div>{{roundDisplay}}</div>
	<div>
		<table>
			<tr>
				<td ng-repeat="p in players track by $index" style="vertical-align:top">
					<div>{{p.name}}</div>
					<div>下注墩数：{{p.bidDisplay}}</div>
					<div>实际墩数：{{p.actualDisplay}}</div>
					<div>当前分数：<span ng-class="p.scoreDisplayClass" style="font-weight: bold">{{p.scoreDisplay}}</span></div>
					<div class="card-play-wizard card-size noselect" ng-repeat="c in p.played track by $index" ng-include="'/view/html/WizardCard.html'"  ng-class="c.color" ng-style="c.cstyle"></div>
					<p ng-show="curPlayer == $index">当前玩家</p>
					<p ng-show="firstPlayer == $index">初始玩家</p>
				</td>
			</tr>
		</table>
	</div>
	
	<div ng-show="(status == BIDTRICKS || status == SCORING) && round == players[myIndex].bids.length+1 && myIndex == curPlayer">
		<div>请下注你本轮的墩数(0~{{round}})：</div>
		<div>
			<button ng-click="changeBid(-100)">Min</button>
			<button ng-disabled="numTrick == 0" ng-click="changeBid(-1)">-</button>
			{{numTrick}}
			<button ng-disabled="numTrick == round" ng-click="changeBid(1)">+</button>
			<button ng-click="changeBid(100)">Max</button>
			<button ng-click="bidWizard()">提交</button>
		</div>
	</div>
	<div ng-show="(status == BIDTRICKS || status == SCORING) && myIndex != curPlayer">正等待其他玩家下注。</div>
	
	<div ng-show="status == CONFIRMROUNDTURN">
		回合结束，{{players[winPlayer]["name"]}}吃了一墩，下回合第一个出牌。
	</div>
	
	<div style="height: 50px;" ng-show="status == CONFIRMROUNDTURN || status == PLAYCARDS">
		<p ng-show="curPlayer != myIndex">现在不是你的回合</p>
		<p ng-show="curPlayer == myIndex && chosenCard == -1">请选择你要出的牌</p>
		<button ng-show="curPlayer == myIndex && chosenCard != -1" ng-click="play()">打出</button>
	</div>
	<div class="hand-size">
		<div class="card-hand card-size noselect" ng-repeat="c in hand track by $index" ng-include="'/view/html/WizardCard.html'"  ng-class="c.color" ng-style="c.cstyle" ng-click="clickCard($index)"></div>
	</div>
	<div style="clear:both"></div>
	<div>
		{{gamedata}}
		
	</div>
	<div>
		{{hand}}
	</div>
	
	<!-- 
	<div class="table-div">
		<div class="player-div" ng-repeat="i in indexSequence">
			<div class="played-card-div">
				<div class="card-play card-play-size noselect" ng-repeat="c in players[i].played track by $index" ng-class="c.color">
					<div class="rank-play" ng-show="c.rank != 'joker' && c.rank != '10'">
						{{c.rank}}
					</div>
					<div class="rank-10-play" ng-show="c.rank == '10'">
						{{c.rank}}
					</div>
					<div class="joker-play" ng-show="c.rank == 'joker'">
						<div class="joker-play-letter">L</div>
						<div class="joker-play-letter">C</div>
						<div class="joker-play-letter">D</div>
						<div class="joker-play-letter">S</div>
					</div>
					<div class="suit-play" ng-show="c.rank != 'joker'">
						{{c.suit}}
					</div>
					<div class="suit-big-play" ng-show="c.rank != 'joker'">
						{{c.suit}}
					</div>
					<div class="joker-big-play" ng-show="c.rank == 'joker'">
					</div>
				</div>
			</div>
			<div class="player-name">{{players[i].name}}</div>
		</div>
	</div>
	<div style="clear:both">
		<span ng-show="status == '3'">进攻方得分：{{attackerPointsGained}}</span>
	</div>
	<div style="clear:both">
		<span ng-show="status == '3' && curPlayer == myIndex">请出牌</span>
		<button ng-click="resetChosen()" ng-show="status == '3' && curPlayer == myIndex">重选</button>
		<button ng-click="play()" ng-show="status == '3' && curPlayer == myIndex" ng-disabled="disablePlay()">打出</button>
		<button ng-click="endDistribute()" ng-show="status == '1' && showEndDistribute && confirmed == false">结束摸牌</button>
		<button ng-click="resetChosen()" ng-show="status == '2' && curClaimedPlayer == myIndex">重选</button>
		<button ng-click="confirmHide()" ng-show="status == '2' && curClaimedPlayer == myIndex" ng-disabled="disableHide">确认底牌</button>
		<span ng-show="status == '2' && curClaimedPlayer != myIndex">正等待{{players[curClaimedPlayer].name}}埋底牌。</span>
		<span ng-show="status == '3' && curPlayer != myIndex && curPlayer != -1">现在不是你的回合。</span>
		<span ng-show="status == '1' && showEndDistribute && confirmed">你已确认，正等待其他玩家确认。</span>
		<div ng-show="status == '3' && curPlayer == -1">
			<span ng-show="winPlayer == myIndex">本轮结束，你的牌型最大，下一轮第一个出牌</span>
			<span ng-show="winPlayer != myIndex">本轮结束，{{players[winPlayer].name}}的牌型最大，下一轮第一个出牌</span>
			<button ng-click="confirmEndTurn()" ng-show="confirmedNextTurn == false">确认</button>
			<div ng-show="confirmedNextTurn">你已确认，正等待其他玩家确认</div>
		</div>
	</div>
	<div style="margin-left: 60px; margin-top: 80px">
		<div class="card-hand card-size noselect" ng-repeat="c in hand track by $index" ng-show="(status != '1' || showCard[$index])" ng-class="c.color" ng-click="clickCard($index)">
			<div class="card-hand-select card-size" ng-show="c.chosen == 1">
			</div>
			<div class="rank-hand" ng-show="c.rank != 'joker' && c.rank != '10'">
				{{c.rank}}
			</div>
			<div class="rank-10-hand" ng-show="c.rank == '10'">
				{{c.rank}}
			</div>
			<div class="joker-hand" ng-show="c.rank == 'joker'">
				<div class="joker-hand-letter">L</div>
				<div class="joker-hand-letter">C</div>
				<div class="joker-hand-letter">D</div>
				<div class="joker-hand-letter">S</div>
			</div>
			<div class="suit-hand" ng-show="c.rank != 'joker'">
				{{c.suit}}
			</div>
			<div class="suit-big-hand" ng-show="c.rank != 'joker'">
				{{c.suit}}
			</div>
			<div class="joker-big-hand" ng-show="c.rank == 'joker'">
			</div>
		</div>
	</div>
	<div style="clear:both"></div>
	<div ng-show="gameMode == SFSJ">
		<div ng-show="status == '1'">
			<h4>抢主</h4>
			<div ng-show="dominantRankSuits['s'] > numDominant" class="claim-button black noselect" ng-click="claimDominant('s', dominantRankSuits['s'])">&spades;</div>
			<div ng-show="dominantRankSuits['s'] <= numDominant" class="claim-button claim-button-disabled noselect">&spades;</div>
			<div ng-show="dominantRankSuits['h'] > numDominant" class="claim-button red noselect" ng-click="claimDominant('h', dominantRankSuits['h'])">&hearts;</div>
			<div ng-show="dominantRankSuits['h'] <= numDominant" class="claim-button claim-button-disabled noselect">&hearts;</div>
			<div ng-show="dominantRankSuits['c'] > numDominant" class="claim-button black noselect" ng-click="claimDominant('c', dominantRankSuits['c'])">&clubs;</div>
			<div ng-show="dominantRankSuits['c'] <= numDominant" class="claim-button claim-button-disabled noselect">&clubs;</div>
			<div ng-show="dominantRankSuits['d'] > numDominant" class="claim-button red noselect" ng-click="claimDominant('d', dominantRankSuits['d'])">&diams;</div>
			<div ng-show="dominantRankSuits['d'] <= numDominant" class="claim-button claim-button-disabled noselect">&diams;</div>
		</div>
		<div ng-show="status == '1'">
			<h4 ng-show="curClaimedPlayer == -1 || curClaimedPlayer >= 4">没有人抢主</h4>
			<h4 ng-show="curClaimedPlayer >= 0 && curClaimedPlayer < 4">{{players[curClaimedPlayer].name}}抢了 <span ng-class="dominantSuitDisplayClass" style="font-size:30px">{{dominantSuitDisplay}}</span>
			（共<b>{{numDominant}}</b>张）</h4>
		</div>
		{{dominantRankSuits}}
	</div>
	 -->
	
	
	
</body>
</html>