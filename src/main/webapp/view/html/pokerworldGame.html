<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Cosgame Pokerworld</title>
<link rel="stylesheet" type="text/css" href="/view/css/bootstrap.css">
<link rel="stylesheet" type="text/css" href="/view/css/mainTheme.css">
<link rel="stylesheet" type="text/css" href="/view/css/pokerworldTheme.css">
<link rel="stylesheet" type="text/css" href="/view/css/pokerworldOther.css">
</head>
<script src="/js/lib/angular.js"></script>
<script src="/js/lib/jquery.js"></script>
<script src="/js/lib/bootstrap.js"></script>
<script src="/js/lib/angular-websocket.js"></script>
<script src="/js/app/pokerworldGameController.js"></script>
<body ng-app="pokerworldGameApp" ng-controller="pokerworldGameCtrl">
	<button ng-click="goto('pokerworld')">back</button>
	<div class="table-div">
		<div class="player-div" ng-repeat="i in indexSequence">
			<div class="played-card-div">
				<div class="card-play card-play-size noselect" ng-repeat="c in players[i].played track by $index" ng-class="c.color">
					<div class="rank-play" ng-show="c.rank != 'joker' && c.rank != '10'">
						{{c.rank}}
					</div>
					<div class="rank-10-play" ng-show="c.rank == '10'">
						{{c.rank}}
					</div>
					<div class="joker-play" ng-show="c.rank == 'joker'">
						<div class="joker-play-letter">L</div>
						<div class="joker-play-letter">C</div>
						<div class="joker-play-letter">D</div>
						<div class="joker-play-letter">S</div>
					</div>
					<div class="suit-play" ng-show="c.rank != 'joker'">
						{{c.suit}}
					</div>
					<div class="suit-big-play" ng-show="c.rank != 'joker'">
						{{c.suit}}
					</div>
					<div class="joker-big-play" ng-show="c.rank == 'joker'">
					</div>
				</div>
			</div>
			<div class="player-name">{{players[i].name}}</div>
		</div>
	</div>
	<!-- 
	<div style="height: 135px" >
		<div ng-repeat="p in players">
			<div class="card-play card-size noselect" ng-repeat="c in p.played track by $index" ng-class="c.color" ng-click="clickCard($index)">
				<div class="rank-hand" ng-show="c.rank != 'joker' && c.rank != '10'">
					{{c.rank}}
				</div>
				<div class="rank-10-hand" ng-show="c.rank == '10'">
					{{c.rank}}
				</div>
				<div class="joker-hand" ng-show="c.rank == 'joker'">
					<div class="joker-hand-letter">L</div>
					<div class="joker-hand-letter">C</div>
					<div class="joker-hand-letter">D</div>
					<div class="joker-hand-letter">S</div>
				</div>
				<div class="suit-hand" ng-show="c.rank != 'joker'">
					{{c.suit}}
				</div>
				<div class="suit-big-hand" ng-show="c.rank != 'joker'">
					{{c.suit}}
				</div>
				<div class="joker-big-hand" ng-show="c.rank == 'joker'">
				</div>
			</div>
		</div>
	</div>
	 -->
	<div style="clear:both">
		<button ng-click="resetChosen()" ng-show="status == '3' && curPlayer == myIndex">重选</button>
		<button ng-click="play()" ng-show="status == '3' && curPlayer == myIndex" ng-disabled="disablePlay()">打出</button>
		<button ng-click="endDistribute()" ng-show="status == '1' && showEndDistribute">结束摸牌</button>
		<button ng-click="resetChosen()" ng-show="status == '2' && curClaimedPlayer == myIndex">重选</button>
		<button ng-click="confirmHide()" ng-show="status == '2' && curClaimedPlayer == myIndex" ng-disabled="disableHide">确认底牌</button>
		<span ng-show="status == '2' && curClaimedPlayer != myIndex">正等待{{players[curClaimedPlayer].name}}埋底牌。</span>
		<span ng-show="status == '3' && curPlayer != myIndex">现在不是你的回合。</span>
	</div>
	<div style="margin-left: 60px; margin-top: 80px">
		<div class="card-hand card-size noselect" ng-repeat="c in hand track by $index" ng-show="(status != '1' || showCard[$index])" ng-class="c.color" ng-click="clickCard($index)">
			<div class="card-hand-select card-size" ng-show="c.chosen == 1">
			</div>
			<div class="rank-hand" ng-show="c.rank != 'joker' && c.rank != '10'">
				{{c.rank}}
			</div>
			<div class="rank-10-hand" ng-show="c.rank == '10'">
				{{c.rank}}
			</div>
			<div class="joker-hand" ng-show="c.rank == 'joker'">
				<div class="joker-hand-letter">L</div>
				<div class="joker-hand-letter">C</div>
				<div class="joker-hand-letter">D</div>
				<div class="joker-hand-letter">S</div>
			</div>
			<div class="suit-hand" ng-show="c.rank != 'joker'">
				{{c.suit}}
			</div>
			<div class="suit-big-hand" ng-show="c.rank != 'joker'">
				{{c.suit}}
			</div>
			<div class="joker-big-hand" ng-show="c.rank == 'joker'">
			</div>
		</div>
	</div>
	<div style="clear:both"></div>
	<div ng-show="status == '1'">
		<h4>抢主</h4>
		<div ng-show="dominantRankSuits['s'] > numDominant" class="claim-button black noselect" ng-click="claimDominant('s', dominantRankSuits['s'])">&spades;</div>
		<div ng-show="dominantRankSuits['s'] <= numDominant" class="claim-button claim-button-disabled noselect">&spades;</div>
		<div ng-show="dominantRankSuits['h'] > numDominant" class="claim-button red noselect" ng-click="claimDominant('h', dominantRankSuits['h'])">&hearts;</div>
		<div ng-show="dominantRankSuits['h'] <= numDominant" class="claim-button claim-button-disabled noselect">&hearts;</div>
		<div ng-show="dominantRankSuits['c'] > numDominant" class="claim-button black noselect" ng-click="claimDominant('c', dominantRankSuits['c'])">&clubs;</div>
		<div ng-show="dominantRankSuits['c'] <= numDominant" class="claim-button claim-button-disabled noselect">&clubs;</div>
		<div ng-show="dominantRankSuits['d'] > numDominant" class="claim-button red noselect" ng-click="claimDominant('d', dominantRankSuits['d'])">&diams;</div>
		<div ng-show="dominantRankSuits['d'] <= numDominant" class="claim-button claim-button-disabled noselect">&diams;</div>
	</div>
	<div ng-show="status == '1'">
		<h4 ng-show="curClaimedPlayer == -1 || curClaimedPlayer >= 4">没有人抢主</h4>
		<h4 ng-show="curClaimedPlayer >= 0 && curClaimedPlayer < 4">{{players[curClaimedPlayer].name}}抢了 <span ng-class="dominantSuitDisplayClass" style="font-size:30px">{{dominantSuitDisplay}}</span>
		（共<b>{{numDominant}}</b>张）</h4>
	</div>
	{{dominantRankSuits}}
	
	{{gamedata}}
	
	<!-- 
	<button ng-click="addbot()">add bot</button>
	<button ng-click="startGame()">start game</button>
	<button ng-click="dismiss()" ng-show="lord == username">dismiss</button>
	 -->
	<div>
	</div>
</body>
</html>