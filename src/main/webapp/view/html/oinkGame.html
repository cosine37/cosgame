<!DOCTYPE html>
<html></html>		
<head>
<meta charset="UTF-8">
<title>Cosgame Abstract</title>
<link rel="stylesheet" type="text/css" href="/view/css/bootstrap.css">
<link rel="stylesheet" type="text/css" href="/view/css/mainTheme.css">
<link rel="stylesheet" type="text/css" href="/view/css/oinkTheme.css">
<link rel="stylesheet" type="text/css" href="/view/css/oinkOther.css">
</head>
<script src="/js/lib/angular.js"></script>
<script src="/js/lib/jquery.js"></script>
<script src="/js/lib/bootstrap.js"></script>
<script src="/js/lib/angular-websocket.js"></script>
<script src="/js/app/oinkGameController.js"></script>
<style>
body {
	-webkit-background-size: cover;
	-moz-background-size:  cover;
	-o-background-size: cover;
	background-size: cover;
}
</style>
<body ng-app="oinkGameApp" ng-controller="oinkGameCtrl" ng-style="bodyStyle" ng-click="bgm.play()" class="noselect">

	<div ng-show="game==STARTUPS && status != ENDGAME" class="game-div">
		<div style="position: absolute; bottom: 10px; right: 20px;">
			<span style="font-weight: bold; font-size: 80px; color:white">初创公司</span>
		</div>
		<div style="position: absolute; top: 10px; right: 20px;">
			<button ng-click="dismiss()" ng-show="username == lord">解散</button>
			<button ng-click="goto('oink')">退出</button>
		</div>
		<div id="player-zone">
			<div ng-repeat="p in players track by $index" style="float: left;">
				<table>
					<tr>
						<td>
							<table>
								<tr>
									<td rowspan='3'>
										<div style="height: 90px; width: 90px" ng-style="p.account.chosenAvatarStyle"></div>
									</td>
									<td style="padding-left: 10px; width: 160px">
										<span style="font-size: 20px;font-weight: bold; ">{{p.account.nameDisplay}}</span>
									</td>
								</tr>
								<tr>
									<td style="padding-left: 10px; width: 160px">
										<div style="background:url('/image/Oink/Startups/coin.png'); background-size:cover; width: 42px; height: 42px; float:left;
											color: black; font-weight:bold; font-size: 24px;text-align: center;padding-top: 2px">
											{{p.coins}}
										</div>
										<div style="float:right;margin-top: 7px; margin-left: 10px; font-size: 18px; font-weight:bold">
											<span>总分：{{p.scoreDisplay}}</span>
										</div>
									</td>
								</tr>
								<tr>
									<td style="padding-left: 10px">
										<span style="font-size:18px">每局分数：</span>
										<span ng-show="p.scores.length==0" ng-style="startupsScoreStyle(99999)">-</span>
										<span ng-show="p.scores.length>0" ng-style="startupsScoreStyle(p.scores[0])">{{p.scores[0]}}</span>
										<span ng-show="p.scores.length<2" ng-style="startupsScoreStyle(99999)">-</span>
										<span ng-show="p.scores.length>1" ng-style="startupsScoreStyle(p.scores[1])">{{p.scores[1]}}</span>
										<span ng-show="p.scores.length<3" ng-style="startupsScoreStyle(99999)">-</span>
										<span ng-show="p.scores.length>2" ng-style="startupsScoreStyle(p.scores[2])">{{p.scores[2]}}</span>
										<span ng-show="p.scores.length<4" ng-style="startupsScoreStyle(99999)">-</span>
										<span ng-show="p.scores.length>3" ng-style="startupsScoreStyle(p.scores[3])">{{p.scores[3]}}</span>
									</td>
								</tr>
							</table>
						</td>
					</tr>
					<tr>
						<td style="height: 45px">
							<div ng-repeat="a in p.antiMonopoly track by $index" ng-style="a.iconStyle"
								style="float: left; height: 40px; width: 40px;color:red; font-size: 30px; font-family: 'yzgc';text-align: center;" >
								×
							</div>
						</td>
					</tr>
					
					<tr>
						<td style="height: 280px; width: 260px; vertical-align: top">
							<table>
								<tr ng-repeat="b in p.play track by $index" ng-show="b.played>0 || b.fromHand>0">
									<td>
										<div style="position:relative; height: 40px; border-radius:20px" ng-style="b.barColor">
											<div style="float:left; height: 40px; width: 40px;" ng-style="b.iconStyle"></div>
											<div style="float:left; width: 120px; padding-top: 5px; padding-left: 5px; color:white; font-size: 24px; font-family: 'yzgc'">{{b.name}}</div>
											<div style="float:left; width: 80px; padding-top: 5px; padding-right: 20px; color:white; font-size: 24px; font-family: 'yzgc'; text-align: right">
												<span>{{b.played}}</span>
												<span ng-show="b.fromHand != 0">+{{b.fromHand}}</span>
											</div>
										</div>
									</td>
								</tr>
							</table>
						</td>
					</tr>
					
				</table>
			</div>
		</div>
		<div style="clear:both"></div>
		<div id="discard-zone" ng-show="showEndRoundInfo == false">
			<div id="deck" ng-repeat="c in deck track by $index" ng-include="'/view/html/StartupsCard.html'" class="card card-size card-size-discard noselect">
				
			</div>
			
			<div ng-repeat="c in gamedata.discard track by $index" ng-include="'/view/html/StartupsCard.html'" class="card card-size card-size-discard noselect">
				
			</div>
			
		</div>
		<div style="clear:both" ng-show="showEndRoundInfo == false"></div>
		<div style="height: 30px;" ng-show="showEndRoundInfo == false">
			<div ng-show="phase == 2">
				<span>请打出或弃置一张牌</span>
				<button ng-show="chosenCard != -1 && hand[chosenCard].canDiscard" ng-click="discard()">弃置</button>
				<button ng-show="chosenCard != -1" ng-click="play()">打出</button>
			</div>
		</div>
		<div id="hand-zone" style="padding-top: 40px" ng-show="showEndRoundInfo == false">
			<div ng-repeat="c in hand track by $index" ng-include="'/view/html/StartupsCard.html'" class="card card-size card-size-hand noselect" ng-style="c.cstyle" ng-click="clickCard($index)"></div>
		</div>
		<div style="clear:both" ng-show="showEndRoundInfo == false"></div>
		<div id="log-zone" style="overflow-y: scroll;overflow:auto;height: 450px;width: 360px;border: 1px solid; position: absolute; right: 20px; bottom: 150px; 
			background-color: rgba(0,0,0,0.7); color:white; padding: 5px;">
			<div ng-repeat="log in gamedata.logs track by $index">{{log}}</div>
		</div>
		<div ng-include="'/view/html/StartupsEndRound.html'" class="noselect" ng-show="showEndRoundInfo"></div>
	</div>
	
	<div ng-show="game==STARTUPS && status == ENDGAME" class="game-div">
		<div style="font-family: 'yzgc'; text-align:center;">
			<h1>游戏结束</h1>
			<div>
				<table style="width: 800px;margin-left: 500px;">
					<tr>
						<td rowspan="2">
							<div style="height: 150px; width: 150px;" ng-style="gamedata.endGameInfo.winner.chosenAvatarStyle">
							</div>
						</td>
						<td>
							<h2>获胜者：{{gamedata.endGameInfo.winner.name}}</h2>
						</td>
					</tr>
					<tr>
						<td>
							<div style="font-size: 24px">
								感想：{{gamedata.endGameInfo.winner.signature}}
							</div>
						</td>
						
					</tr>
				</table>
			</div>
			
			
			
			<div style="margin-top: 50px;float:left; margin-left: 500px">
				<table class="game-end-table">
					<tr style="color: white; background-color:rgb(0,150,255)">
						<td>名次</td>
						<td>姓名</td>
						<td colspan="4">每轮分数</td>
						<td>总分</td>
					</tr>
					<tr ng-repeat="name in gamedata.endGameInfo.playerNames track by $index">
						<td>{{$index+1}}</td>
						<td>{{name}}</td>
						<td>{{gamedata.endGameInfo.scores[$index][0]}}</td>
						<td>{{gamedata.endGameInfo.scores[$index][1]}}</td>
						<td>{{gamedata.endGameInfo.scores[$index][2]}}</td>
						<td>{{gamedata.endGameInfo.scores[$index][3]}}</td>
						<td style="font-weight:bold">{{gamedata.endGameInfo.finalScore[$index]}}</td>
					</tr>
				</table>
			</div>
			<div style="margin-top: 50px;float:left; vertical-align:top; margin-left: 200px; width: 300px;">
				<h2>你获得了</h2>
				<div ng-repeat="rewardMsg in gamedata.endGameInfo.endGameRewards">{{rewardMsg}}</div>
			</div>
			<div style="clear: both"></div>
		</div>
		
		<div style="width: 1800px; text-align:center; margin-top: 20px">
			<button ng-click="dismiss()" ng-show="username == lord">解散</button>
			<button ng-click="goto('oink')">退出</button>
		</div>
	</div>
	
	<div ng-show="game==GROVE && status != ENDGAME">
		狗头侦探
		<div>
			<button ng-click="dismiss()" ng-show="username == lord">解散</button>
			<button ng-click="goto('oink')">退出</button>
		</div>
		
		{{gamedata}}
	</div>
</body>