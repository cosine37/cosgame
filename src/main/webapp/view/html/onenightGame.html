<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Cosgame Coslash</title>
<link rel="stylesheet" type="text/css" href="/view/css/bootstrap.css">
<link rel="stylesheet" type="text/css" href="/view/css/mainTheme.css">
<link rel="stylesheet" type="text/css" href="/view/css/onenightTheme.css">
<link rel="stylesheet" type="text/css" href="/view/css/onenightOther.css">
</head>
<script src="/js/lib/angular.js"></script>
<script src="/js/lib/jquery.js"></script>
<script src="/js/lib/bootstrap.js"></script>
<script src="/js/app/onenightGameController.js"></script>
<body ng-app="onenightGameApp" ng-controller="onenightGameCtrl">
	<button ng-click="goto('onenightcreategame')">back</button>
	<div>
		{{gamedata}}
	</div>
	<div ng-show="status == '1' && lord == username">
		<span ng-repeat="x in rolesSelect track by $index">
			<select ng-model="rolesSelect[$index]">
				<option value='0'>村民</option>
				<option value='1'>狼人</option>
				<option value='2'>预言家</option>
				<option value='3'>盗贼</option>
				<option value='4'>熊孩子</option>
				<!-- 
				<option value='5'>帮凶</option>
				 -->
			</select>
		</span>
		<button ng-click="submitRolesSelect()">确定</button>
		<button ng-click="night()" ng-show="canNight == 'y'">天黑</button>
	</div>
	
	<div ng-show="status == '2' || status == '3'">
		<table>
			<tr>
				<td ng-repeat="i in indexes">
					<div class="role" ng-style="playerRoleStyles[i]" ng-click="clickPlayerRole(i)">
						<div class="target" ng-show="playerSelect[i] == 'y'">
						</div>
						<div class="exchange" ng-show="playerMarks[i] == '-2'">
						</div>
					</div>
					{{playerDisplayNames[i]}}
				</td>
			</tr>
		</table>
		中央区域
		<table>
			<tr>
				<td ng-repeat="x in centerRoleStyles track by $index">
					<div class="role" ng-style="x" ng-click="clickCenterRole($index)">
						<div class="target" ng-show="centerSelect[$index] == 'y'">
						</div>
						<div class="exchange" ng-show="centerMarks[i] == '-2'">
						</div>
					</div>
				</td>
			</tr>
		</table>
		<table>
			<tr>
				<td>
					<table>
						<tr>
							<td>
								<div class="role" ng-style="myRoleStyle">
								</div>
							</td>
							<td ng-show="showUpdatedRole == 'y'">
								<div class="role" ng-style="updatedRoleStyle">
								</div>
							</td>
							<td ng-show="showUpdatedRole == 'n'">
								<div class="role"></div>
							</td>
						</tr>
						<tr>
							<td>初始身份</td>
							<td ng-show="showUpdatedRole == 'y'">最后看到身份</td>
							<td ng-show="showUpdatedRole == 'n'"></td>
						</tr>
					</table>
				</td>
				<td>
					<p ng-repeat="msg in centerMsg">{{msg}}</p>
				</td>
			</tr>
		</table>
		
		<button ng-show="status == '2'" ng-click="confirmNight()">确认</button>
	</div>
	
</body>